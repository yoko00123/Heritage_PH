"use strict";define(["app"],function(n){var e=function(n,t,i,r,u,f){n.currentVersion=parseFloat(r.Session("currentVersion"));n.Controller=t.Controller;n.CurrentController=null;n.widgetLayout=[];n.SetController=function(i){n.CurrentController=i;t.SetController(i)};n.SetEncryption=function(n,i){t.SetEncryption(n,i)};n.UserRow=function(n){r.UserRow(n)};n.Dialog=function(n){return f.open({animation:!0,templateUrl:n.templateUrl||"/Web/Template/"+n.template,controller:n.controller,size:n.size||"lg",appendTo:angular.element(document.body),backdrop:"static",keyboard:!1,windowClass:"custom-info-dialog "+n.windowClass,resolve:n.resolve||{dData:n.data||null}})};n.Confirm=function(t,i){var r=new $.Deferred,u=n.Dialog({controller:["$scope","dData","$uibModalInstance",function(n,t,i){n.Message=t.message;n.Title=t.title;n.Cancel=function(){i.close(1)};n.OK=function(){i.close(0)}}],template:"Confirm.tmpl.html",size:"sm",data:{message:t,title:i||document.title}});return u.result.then(function(n){n==0?r.resolve(n):r.reject()}),r.promise()};n.Alert=function(){};n.Toast=function(n,t,i){switch(i){case"info":u.info(n,t||document.title);break;case"warning":u.warning(n,t||document.title);break;case"error":u.error(n,t||document.title);break;default:u.success(n,document.title)}};n.Request=function(i,r,f){return t.Post(i,r,n.Controller,f).fail(function(n){var t=n.toString().substr(0,40);return t.length<n.toString().length&&(t=t+"..."),u.error(n.toString(),document.title),n})};n.ByteLength=function(n){return typeof n=="object"&&(n=JSON.stringify(n)),t.ByteLength(n)};n.Download=function(i,r){return t.Download(i,r,n.Controller).fail(function(n){var t=n.toString().substr(0,40);t.length<n.toString().length&&(t=t+"...");u.error(n.toString(),document.title)})};n.DownloadSlim=function(n,i){return t.DownloadSlim(LZString.compressToEncodedURIComponent(n),i).catch(function(n,t){var i=t.toString().substr(0,40);i.length<t.toString().length&&(i=i+"...");u.error(t.toString(),document.title)})};n.UrlApi=function(n){return t.UrlApi(n)};n.ActionUrl=function(n,t,i){var r,f,u,e;if(r=t.toLowerCase().indexOf("controller")>=0?"/"+t.replace("Controller","")+"/"+n:"/"+t+"/"+n,vcl.String.StartsWith(r,"/http"))return r.substr(1);if(i){f=[];u=Object.keys(i);for(e in u)f.push(u[e]+"="+i[u[e]]);r=r+"?"+f.join("&")}window.location=r};n.IsNull=function(n,t){return n==null||typeof n==typeof undefined?t:n};n.Goto=function(n){window.location="#!"+n};n.UploadFile=function(n,i,r,f){var o,s,e;try{return o=$.Deferred(),s="",f&&(s=' accept="'+f+'" '),e=$('<input type="file" '+(r?"multiple":"")+s+" />"),e.change(function(){var c,s,r,y,p,l,a,v,h;try{if(e[0].files.length==0){o.reject();return}if(f){for(c=!1,s=f.split(","),r=0;r<s.length;r++)if(y=s[r].trim().indexOf("*")!==-1,y){if(p=s[r].trim().split("/"),e[0].files[0].type.toLowerCase().startsWith(p[0].toLowerCase())){c=!0;break}}else if(s[r].trim()===e[0].files[0].type){c=!0;break}if(!c){o.reject("Invalid File");return}}if(l=new FormData,i){a=Object.keys(i);for(v in a)l.append(a[v],i[a[v]])}for(h=0;h<e[0].files.length;h++)l.append("fileToUpload_"+h.toString(),e[0].files[h]);t.Upload(n,l).then(function(n,t){o.resolve(n,t)}).fail(function(n){var t=n.toString().substr(0,40);t.length<n.toString().length&&(t=t+"...");u.error(n.toString(),document.title);o.reject()})}catch(w){console.error(w)}}),e.trigger("click"),o.promise()}catch(h){console.error(h)}};n.UploadFileSlim=function(t,i){var r=i||{};return r.Container=t,r.UseOriginalName||(r.UseOriginalName=!1),n.UploadFile("UploadFile",r)};n.Task=function(n,t){var i=$.Deferred();return n?n(i):setTimeout(function(){i.resolve()},t||100),i.promise()};n.WaitForElement=function(n){var t=$.Deferred(),i=0,r=function(){var u=setTimeout(function(){var f=$(n);clearTimeout(u);f.length>0?t.resolve(f):(i++,i<10?r():t.reject("Could not find Element"))},100)};return r(),t.promise()};n.GetFileNameWithOutExtension=function(n){return vcl.Path.GetFileName(n)};n.TrustSrc=function(n){return i.trustAsResourceUrl(n)};n.ModelToDate=function(n){if(!n)return null;if(n&&!(n instanceof Date)&&(typeof n=="string"&&(n=new Date(n)),Object.prototype.toString.call(n)!=="[object Date]"))throw Error("The ng-model for md-datepicker must be a Date instance. Currently the model is a: "+typeof n);return n};n.StringFormat=function(n){var t=Array.prototype.slice.call(arguments,1);return n.replace(/{(\d+)}/g,function(n,i){return typeof t[i]!="undefined"?t[i]:n})};n.SQLFormat=function(n,t){var i=n;return n===null||typeof n==typeof undefined?i="NULL":n===!0||n===!1||n==="true"||n==="false"?i=n===!0||n==="true"?1:0:isNaN(n)&&(i="'"+n+(t?"%":"")+"'"),i};n.DataBank=function(n,t){if(t)r.DataBank(n,t);else return r.DataBank(n)};n.Title=function(t){document.title=t+" - "+n.Session("Company")};n.Session=function(n){return r.Session(n)};n.PassParameter=function(t,i,u,f){var h,s,o,c,e;try{if(t===undefined||t===null)return;if(h=function(n){return n=="NULL"?n.toLowerCase():n},s=i||r.UserRow(),u=u||"@",o=Object.keys(s),f)for(e=0;e<f.length;e++)c=f[e].split("."),t=t.replace(new RegExp("\\"+c[0]+"\\b"+c[1]+"\\b","g"),h(n.SQLFormat(s[c[1]])));for(e=0;e<o.length;e++)u instanceof Array?u.forEach(function(i){t=t.replace(new RegExp("\\"+i+"\\b"+o[e]+"\\b","g"),h(n.SQLFormat(s[o[e]])))}):t=t.replace(new RegExp("\\"+u+"\\b"+o[e]+"\\b","g"),h(n.SQLFormat(s[o[e]])));return t}catch(l){console.error(l.message,t)}};n.hasValue=function(n){return n?typeof n=="string"&&n.trim()===""?!1:!0:!1};n.SetFromSystemQueryParameter=function(t){var u,i,r,f,e;if(!n.hasValue(t))return t;for(u=vcl.Options.SystemParameters,i=0;i<u.length;i++)r=u[i],f="@"+r.Key,r.Value&&(e=r.Value.toString(),t=t.replace(f,e));return t};n.FormatColumn=function(t,i){var r=i[t];return typeof r=="string"||r instanceof String?t.toLowerCase().indexOf("datetime")!==-1&&vcl.DateTime.IsNewtonFormat(r)?r=vcl.DateTime.Format(r,"mmm dd, yyyy - hh:MM TT"):t.toLowerCase().indexOf("date")!==-1&&vcl.DateTime.IsNewtonFormat(r)?r=vcl.DateTime.Format(r,"mmm dd, yyyy"):vcl.DateTime.IsNewtonFormat(r)&&(r=vcl.DateTime.Format(r,"hh:MM TT")):r&&!isNaN(r)&&t.toLowerCase()!=="id"&&t.toLowerCase()!=="year"&&(r=n.FormatNumber(r)),r};n.FormatNumber=function(n,t){var i=parseFloat(n).toFixed(t||2).toString().split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),i.join(".")};n.Compress=function(n){return LZString.compressToEncodedURIComponent(JSON.stringify(n))};n.Decompress=function(n){return JSON.parse(LZString.decompressFromEncodedURIComponent(n))};n.GetMenu=function(n){return t.GetMenu(n)};n.convertDataURIToBinary=function(n){for(var i=";base64,",e=n.indexOf(i)+i.length,o=n.substring(e),r=window.atob(o),u=r.length,f=new Uint8Array(new ArrayBuffer(u)),t=0;t<u;t++)f[t]=r.charCodeAt(t);return f};n.DefaultColumns=function(){return[{ID:0,Name:"ID",EffectiveLabel:"Reference ID"},{ID:0,Name:"Name",EffectiveLabel:"Name"},]};n.ShowOverlay=function(){var n=$("#window-screen");$(".bg-screen",n).css({opacity:.6});n.fadeIn()};n.HideOverlay=function(){var n=$("#window-screen");$("#LoadingMessage",n).html("");n.fadeOut()};n.OverlayMessage=function(n){var t=$("#window-screen");$("#LoadingMessage",t).html(n)};n.LongDate=function(n){var t=vcl.DateTime;return n!=null?t.Format(n,t.masks.inSysDateTime):null};n.LoadCombo=function(t,i,r,u){return n.Request("LoadCombo",{DataSource:t,filter:r,Name:i,Sort:u})};n.SessionReady=function(){var n=$.Deferred(),t=0,i=function(){var u=setTimeout(function(){clearTimeout(u);r.Length()>0?n.resolve(r):(t++,t<100?i():n.reject("Waiting for session exceeded"))},100)};return i(),n.promise()}},t,i,r,u,f;n.controller("BaseController",["$scope","DataService","$sce","Session","toastr","$uibModal",e]);t=function(n,t){n.Menus=[];n.MenuBare=[];n.UserFav=null;n.completeMenu=[];n.copyMenu=[];n.ID_ApplicationType=n.Session("ID_ApplicationType");n.PersonaName=n.Session("Name");window.sessionStorage.ActiveApplicationType!=null&&window.sessionStorage.ActiveApplicationType!=typeof undefined?(n.ActiveApplicationType=window.sessionStorage.ActiveApplicationType,n.AppType=n.ActiveApplicationType==1?!0:!1):n.ID_ApplicationType==null?(n.ActiveApplicationType=1,n.AppType=!0):(n.ActiveApplicationType=n.ID_ApplicationType,n.AppType=n.ActiveApplicationType==1?!0:!1);n.Prepare=function(){var i=t.Post("LoadUserMenu",{ID_User:n.Session("ID_User")}),r;return parseInt(n.Session("ID_User"))>2?(r=Enumerable.From(JSON.parse(LZString.decompressFromUTF16(n.Session("UserMenuIDList")))).Select(function(n){return{ID:n.Item1,IsVisible:n.Item2}}).ToArray(),i.then(function(t){n.MenuBare=n.Menus=Enumerable.From(t.Menu).Join(r,"$.ID","$.ID",function(n,t){return n.IsVisible=t.IsVisible,n}).Where(function(t){return t.IsVisible&&t.ID_ApplicationType==n.ActiveApplicationType}).ToArray();n.completeMenu=angular.copy(n.MenuBare);n.copyMenu=angular.copy(n.completeMenu);n.toRemove=[];angular.forEach(n.completeMenu,function(t){var i=Enumerable.From(n.completeMenu).Where(function(n){return n.ID_Menu==t.ID&&t.ID_MenuType!=6}).ToArray().length,r;i>0&&(r=n.copyMenu.indexOf(t),vcl.Array.Remove(n.copyMenu,function(n){return n.ID==t.ID}))})})):i.then(function(t){n.UserFav=t.UserFav;n.MenuBare=n.Menus=Enumerable.From(t.Menu).Where(function(t){return t.IsVisible&&t.ID_ApplicationType==n.ActiveApplicationType}).Select(function(n){return n.HasFav=Enumerable.From(t.UserFav).Where(function(t){return t.ID_Menu===n.ID}).Any(),n}).ToArray();n.completeMenu=angular.copy(n.MenuBare);n.copyMenu=angular.copy(n.completeMenu);n.toRemove=[];angular.forEach(n.completeMenu,function(t){var i=Enumerable.From(n.completeMenu).Where(function(n){return n.ID_Menu==t.ID&&t.ID_MenuType!=6}).ToArray().length,r;i>0&&(r=n.copyMenu.indexOf(t),vcl.Array.Remove(n.copyMenu,function(n){return n.ID==t.ID}))})})};n.LoadMenu=function(){n.Distinct=function(n){var i=[],t=[];return Enumerable.From(n).ForEach(function(n){t.indexOf(n.ID)<0&&(t.push(n.ID),i.push(n))}),n};n.MenuTree=function(n){function i(n,t){var r=[];return Enumerable.From(t).Where(function(t){return t.ID_Menu===parseInt(n)}).OrderBy(function(n){return n.SeqNo}).ForEach(function(n){r.push({Parent:n,Children:n.ID_MenuType==6?[]:i(n.ID,t)})}),r}var t=[];return Enumerable.From(n).OrderBy(function(n){return n.SeqNo}).ForEach(function(r){r.ID_Menu===null&&t.push({Parent:r,Children:r.ID_MenuType==6?[]:i(r.ID,n)})}),t};n.Prepare().then(function(){var t,i;n.Distinct=function(n){var i=[],t=[];return Enumerable.From(n).ForEach(function(n){t.indexOf(n.ID)<0&&(t.push(n.ID),i.push(n))}),n};n.RebuildParentMenu=function(t){var i=Enumerable.From(n.Menus).Where(function(n){return n.ID_Menu===t}),r;i.Count()==1?(r=i.SingleOrDefault().ID,n.RebuildParentMenu(r),vcl.Array.Remove(n.Menus,function(n){return n.ID===r})):i.ForEach(function(n){n.ID_Menu=null})};t=Enumerable.From(n.Menus).Where("$.ID_Menu === null");t.Count()==1&&(i=t.SingleOrDefault().ID,n.RebuildParentMenu(i),vcl.Array.Remove(n.Menus,function(n){return n.ID===i}));n.Menus=n.Distinct(n.Menus);n.Menus=n.MenuTree(n.Menus);n.ReCreateParent=function(t){return t.length==1?t=t:t.length!=0&&angular.forEach(t,function(t){t=t.Children.length==1?t.Children[0]:n.ReCreateChild(t)}),t};n.ReCreateChild=function(t){return t.length==1?t=t[0].Children:t.length!=0&&angular.forEach(t.Children,function(t){t=t.Children.length==1?t.Children[0]:n.ReCreateChild(t)}),t};n.Menus=n.ReCreateParent(n.Menus)})};n.AppType=n.Session("ID_ApplicationType")==null?!0:!1;n.ChangeDashboard=function(){n.AppType!=undefined&&(n.AppType?(n.ActiveApplicationType=1,window.sessionStorage.ActiveApplicationType=1,window.location="#!/Dashboardv3",window.location.reload()):(n.ActiveApplicationType=2,window.sessionStorage.ActiveApplicationType=2,window.location="#!/IONSDashboard",window.location.reload()))};n.IONSHome=function(){return window.sessionStorage.ActiveApplicationType==2?!1:!0};n.UpdateMenuItem=function(t,i,r){for(var f=function(n,t){for(var u=0;u<n.Children.length;u++){if(n.Children[u].Parent.ID===t){n.Children[u].Parent[i]=r;return}f(n.Children[u],t)}},u=0;u<n.Menus.length;u++){if(n.Menus[u].Parent.ID===t){n.Menus[u].Parent[i]=r;return}f(n.Menus[u],t)}};n.GetMenuItem=function(t){for(var r,u=function(n,t){for(var r,i=0;i<n.Children.length;i++){if(n.Children[i].Parent.ID===t)return n.Children[i].Parent;if(r=u(n.Children[i],t),r)return r}},i=0;i<n.Menus.length;i++){if(n.Menus[i].Parent.ID===t)return n.Menus[i].Parent;if(r=u(n.Menus[i],t),r)return r}}};n.controller("MenuController",["$scope","DataService","Session","$state",t]);i=function(n,t,i,r){r("BaseController",{$scope:n});n.showbox=!1;n.RPanelTitle="Filter";n.TogglePanel=function(){n.showbox=!n.showbox;n.g.invoke("RPanelClose",$(".right-box").hasClass("show-box"))};n.PanelTitle=function(t){n.RPanelTitle=t};n.Inject=function(n,i){$(".right-box-body").empty();angular.element($(".right-box-body").append(t(n)(i)))};n.SessionReady().then(function(){n.g=i.group(n.Session("GUID"));n.g.on("RTitle",n.PanelTitle);n.g.on("RTogglePanel",function(){n.TogglePanel()});n.g.on("RInject",n.Inject)})};n.controller("RightPanelController",["$scope","$compile","$Invoker","$controller",i]);r=function(n,t,i){t("BaseController",{$scope:n});n.DocType=1;n.PrButtons=[{Name:"Download",Type:1,Icon:"fa-download"},{Name:"Print",Type:2,Icon:"fa-print"},{Name:"Email",Type:3,Icon:"fa-envelope-o"},{Name:"Save to OneDrive",Type:4,Icon:"fa-cloud"},];n.PrOptions={PageSelection:1,Layout:1,Page:null};n.btnClick=function(t){i.close({DocType:n.DocType,Type:t.Type,Layout:n.PrOptions.Layout,Page:n.PrOptions.PageSelection===1?null:n.PrOptions.Page})};n.Cancel=function(){i.dismiss()};n.OK=function(){i.close(0)}};n.controller("PrintDialogController",["$scope","$controller","$uibModalInstance",r]);u=function(n,t,i){t("BaseController",{$scope:n});n.Cancel=function(){i.dismiss()};n.OK=function(){i.close(0)};n.ToggleBCC=function(){$("#bcc-frm").toggleClass("toggled-bcc")};n.ToggleCC=function(){$("#cc-frm").toggleClass("toggled-cc")}};n.controller("EmailDialogController",["$scope","$controller","$uibModalInstance",u]);f=function(n,t,i,r){function e(){t.find(".lzy_header").css("minWidth",t.find(".lzy_body")[0].clientWidth);t.find(".lzy_body").get(0).scrollWidth>t.find(".lzy_body").width()?(t.find(".lzy_freeze_pane").css("height",t.find(".lzy_header")[0].clientHeight+t.find(".lzy_body")[0].clientHeight),t.find(".lzy_body").scrollLeft(0)):t.find(".lzy_freeze_pane").css("height",t[0].clientHeight-(t.find(".lzy_footer")[0].clientHeight+20)-1);(n.tableOptions.multiSelect||n.FreezeColumns.length>0||n.tableOptions.hasOpenIcon)&&(t.find(".lzy_body").get(0).scrollWidth>t.find(".lzy_body").width()?t.find(".lzy_fp_body").css("height",t.find(".lzy_freeze_pane").height()-t.find(".lzy_header").height()):t.find(".lzy_fp_body").css("height",t.find(".lzy_freeze_pane").height()-t.find(".lzy_header").height()-1));t.find(".lzy_body").get(0).scrollHeight>t.find(".lzy_body").height()&&t.find(".lzy_header").css("width","calc(100% - 30px)")}function o(n,i){t.find(".lzy_row").each(function(){var t=$(this).find(".lzy_row_column")[i];$(t).css("minWidth",n);$(t).css("borderRight","1px dashed #ddd")})}function y(n){t.find(".lzy_row").each(function(){var t=$(this).find(".lzy_row_column")[n];$(t).css("borderRight","")})}var u=0,s=0,h={tableData:[],viewCount:50,rowHeight:30,tableWidth:"100%",tableHeight:"500px",multiSelect:!1,columns:[],hasPaging:!1,increment:50,pages:[],pageView:[50,120,150],selectedPage:1,columnSortName:"first_name",columnSortOrder:"asc",onViewChange:function(){},onPageChange:function(){},onSortChange:function(){},onRowDoubleClick:function(){},sortData:null,getRowSelected:null,hasOpenIcon:!1,hasOpenIconClick:function(){},Previous:null,Next:null},f;n.tableOptions=$.extend(h,n.tableOptions);t.css("width",n.tableOptions.tableWidth);t.find(".lzy_body").css("height",n.tableOptions.tableHeight);n.hTop=0;n.hBottom=0;n.cb={};n.checkAllBox=function(){for(var t=0;t<n.records.length;t++)n.records[t].IsChecked=n.cb.checkAll==!1?!1:!0};n.sortDirection=function(){return n.tableOptions.columnSortOrder=="asc"?"lzy_chevron lzy_chevron_up":"lzy_chevron lzy_chevron_down"};var c=t.find(".lzy_fp_Top"),l=t.find(".lzy_fp_Bottom"),a=t.find(".lzy_Top"),v=t.find(".lzy_Bottom");n.setHeightStyle=function(){c.css("height",n.hTop);l.css("height",n.hBottom);a.css("height",n.hTop);v.css("height",n.hBottom)};n.$watch("tableOptions.tableData",function(){t.find(".lzy_body").scrollTop(0);t.find(".lzy_fp_body").scrollTop(0);t.find(".lzy_column").each(function(n,t){$(t).css("minWidth","")});n.tableOptions.tableData.length>0?(n.data=[],n.FreezeColumns=[],n.records=[],n.start=0,n.end=n.tableOptions.increment,n.cb.checkAll=!1,n.hBottom=(n.tableOptions.tableData.length-n.end)*n.tableOptions.rowHeight,n.hTop=0,n.setHeightStyle(),n.orderByColumns(),n.data=angular.copy(n.tableOptions.tableData),n.records=n.data.slice(n.start,n.end),n.hBottom=(n.data.length-n.end)*n.tableOptions.rowHeight):n.records=[];n.updateFreezeColumn();r(function(){e()},200)});n.oldAddValue=0;n.oldStartValue=0;n.onScrollTopStop=function(t){var f=t.target.scrollTop,r=Math.floor((t.target.scrollTop-n.hTop)/n.tableOptions.rowHeight),e=Math.floor((n.hBottom-t.target.scrollTop)/n.tableOptions.rowHeight)+n.tableOptions.increment,i;f<u?n.hTop>0&&(r=r*-1,i=n.start,n.start=i-r,n.end=n.end-r,n.start<0&&(n.start=0,n.end=n.tableOptions.increment),n.records=n.data.slice(n.start,n.end),n.hTop=n.start*n.tableOptions.rowHeight,n.hBottom=(n.data.length-n.tableOptions.increment)*n.tableOptions.rowHeight-n.hTop):n.hBottom>0&&(i=n.start,n.start=n.data.length-e-i-5,n.end=n.start+n.tableOptions.increment,n.start<0&&(n.start=0,n.end=n.tableOptions.increment),n.end>n.data.length&&(n.start=n.data.length-n.tableOptions.increment,n.end=n.data.length),n.records=n.data.slice(n.start,n.end),n.hTop=(n.start-i)*n.tableOptions.rowHeight+n.hTop,n.hBottom=(n.data.length-n.tableOptions.increment)*n.tableOptions.rowHeight-n.hTop);u=f;n.$apply();n.setHeightStyle()};n.onScrollLeftStop=function(){};n.updateFreezeColumn=function(){n.FreezeColumns=Enumerable.From(n.tableOptions.columns).Where(function(n){return(n.IsFreeze==undefined?!1:n.IsFreeze)==!0}).ToArray()};n.$watch("tableOptions.columns",function(){n.updateFreezeColumn();r(function(){e()},200)});n.hover=function(n){$(t.find(".lzy_fp_row")[n]).addClass("lzy_hover");$(t.find(".lzy_row")[n]).addClass("lzy_hover")};n.hoverOut=function(n){$(t.find(".lzy_fp_row")[n]).removeClass("lzy_hover");$(t.find(".lzy_row")[n]).removeClass("lzy_hover")};n.setRowHeight=function(){return{minHeight:n.tableOptions.rowHeight,maxHeight:n.tableOptions.rowHeight}};n.compare=function(t,i){return t[n.tableOptions.columnSortName]<i[n.tableOptions.columnSortName]?n.tableOptions.columnSortOrder=="asc"?-1:1:t[n.tableOptions.columnSortName]>i[n.tableOptions.columnSortName]?n.tableOptions.columnSortOrder=="asc"?1:-1:0};n.getRowSelected=function(){return Enumerable.From(n.records).Where(function(n){return n.IsChecked==!0}).ToArray()};n.tableOptions.sortData=n.compare;n.tableOptions.getRowSelected=n.getRowSelected;n.orderByColumns=function(){n.tableOptions.columns.sort(function(n,t){return n.SeqNo-t.SeqNo});n.FreezeColumns.sort(function(n,t){return n.SeqNo-t.SeqNo})};n.formatDate=function(n,t){return n==null?null:moment(new Date(n)).format(t)};n.replaceNull=function(n){return n==null?"-":n};n.tableOptions.Previous=function(){n.tableOptions.selectedPage-=1;n.tableOptions.onPageChange()};n.tableOptions.Next=function(){n.tableOptions.selectedPage+=1;n.tableOptions.onPageChange()};$(window).resize(function(){r(function(){e()},200)});t.find(".lzy_fp_body").bind("mousewheel DOMMouseScroll",function(n){var i=0,r;n.preventDefault();n.type=="mousewheel"?i=n.originalEvent.wheelDelta*-1:n.type=="DOMMouseScroll"&&(i=40*n.detail);r=i+$(this).scrollTop()-20;$(this).scrollTop(r);t.find(".lzy_body").scrollTop(r)});t.find(".lzy_body").on("scroll",function(i){t.find(".lzy_header").scrollLeft($(this).scrollLeft());t.find(".lzy_fp_body").scrollTop($(this).scrollTop());t.find(".lzy_freeze_pane").hasClass("scrolling")||t.find(".lzy_freeze_pane").addClass("scrolling");f&&clearTimeout(f);f=r(function(){t.find(".lzy_freeze_pane").removeClass("scrolling");var r=$(".lzy_body").scrollTop(),f=$(".lzy_body").scrollLeft();if(s!=f,u!=r)n.onScrollTopStop(i)},150)});n.resizeColumn=function(t,i){n.tableOptions.multiSelect==!0&&(i+=1);n.tableOptions.hasOpenIcon==!0&&(i+=1);var f=$(t.currentTarget),e=!1,s=0,r=f.parent().parent(),s=t.clientX,e=!0,u;f.attr("oldWidth")==undefined?(u=parseInt(r.css("minWidth").replace("px","")),f.attr("oldWidth",u)):u=f.attr("oldWidth");r.css("borderRight","1px dashed #ddd");$(document).on("mousemove",function(n){if(e){var t=n.clientX-r.offset().left;t<u?(r.css("minWidth",u),o(u,i)):(r.css("minWidth",t),o(t,i))}}).on("mouseup",function(){e=!1;r.css("borderRight","");y(i)})}};n.controller("lzyGridController",["$scope","$element","$attrs","$timeout",f])});